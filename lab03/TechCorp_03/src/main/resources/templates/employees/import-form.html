<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Import pracowników</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <a href="/">Employee Manager</a>
            </div>
            <ul class="navbar-menu">
                <li><a href="/employees">Pracownicy</a></li>
                <li><a href="/statistics">Statystyki</a></li>
                <li><a href="/employees/import">Import</a></li>
            </ul>
        </div>
    </nav>

    <div class="main-content">
        <div class="container">
            <div style="margin-bottom: 2rem;">
                <h1 style="color: #2c3e50; margin-bottom: 0.5rem;">Import pracowników z pliku</h1>
                <p style="color: #7f8c8d;">Importuj dane pracowników z pliku CSV lub XML</p>
            </div>

            <div th:if="${error}" class="alert alert-error">
                <strong>Błąd:</strong> <span th:text="${error}"></span>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- Formularz -->
                <div>
                    <form th:action="@{/employees/import}" method="post" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="fileType">Typ pliku <span style="color: #dc3545;">*</span></label>
                            <select id="fileType" name="fileType" required>
                                <option value="">-- Wybierz typ --</option>
                                <option value="csv">CSV</option>
                                <option value="xml">XML</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="file">Wybierz plik <span style="color: #dc3545;">*</span></label>
                            <input type="file" id="file" name="file" accept=".csv,.xml" required>
                            <small style="color: #7f8c8d; display: block; margin-top: 0.5rem;">
                                Maksymalny rozmiar pliku: 10MB
                            </small>
                        </div>

                        <div class="button-group" style="justify-content: flex-start;">
                            <button type="submit" class="btn btn-success">Importuj</button>
                            <a href="/employees" class="btn btn-secondary" style="text-decoration: none;">Anuluj</a>
                        </div>
                    </form>
                </div>

                <!-- Informacje -->
                <div>
                    <div class="statistics-table-section">
                        <h3 class="statistics-table-title" style="margin-top: 0; margin-bottom: 1rem;">Wskazówki importu</h3>
                        <ul style="margin-left: 1.5rem; color: #555; line-height: 1.8;">
                            <li>Upewnij się, że plik zawiera wszystkie wymagane pola</li>
                            <li>Pozycje pracownika muszą być zgodne z dostępnymi stanowiskami</li>
                            <li>Email musi być unikalny</li>
                            <li>Wynagrodzenie musi być liczbą dodatnią</li>
                            <li>Status zatrudnienia jest opcjonalny (domyślnie: ACTIVE)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Przykłady formatów -->
            <div style="margin-top: 3rem;">
                <h2 style="color: #2c3e50; margin-bottom: 1.5rem;">Oczekiwane formaty plików</h2>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <!-- CSV Format -->
                    <div class="statistics-table-section">
                        <h3 class="statistics-table-title" style="margin-top: 0;">Format CSV</h3>
                        <p style="color: #7f8c8d; margin-bottom: 1rem;">Rozdzielacz: średnik (<strong>;</strong>)</p>
                        <pre style="background-color: #f8f9fa; padding: 1rem; border-radius: 4px; overflow-x: auto; border-left: 3px solid #3498db;">firstName;lastName;email;company;position;salary
Jan;Kowalski;jan@example.com;TechCorp;PROGRAMISTA;5000
Maria;Nowak;maria@example.com;TechCorp;MANAGER;7000
Piotr;Lewandowski;piotr@example.com;DevStudio;PROGRAMISTA;3500</pre>
                        <p style="font-size: 0.875rem; color: #7f8c8d; margin-top: 1rem;">
                            <strong>Dostępne pozycje:</strong>  PREZES, WICEPREZES, MANAGERM, PROGRAMISTA, STAZYSTA
                        </p>
                    </div>

                    <!-- XML Format -->
                    <div class="statistics-table-section">
                        <h3 class="statistics-table-title" style="margin-top: 0;">Format XML</h3>
                        <p style="color: #7f8c8d; margin-bottom: 1rem;">Struktura hierarchiczna</p>
                        <pre style="background-color: #f8f9fa; padding: 1rem; border-radius: 4px; overflow-x: auto; border-left: 3px solid #28a745; font-size: 0.85rem;">&lt;employees&gt;
  &lt;employee&gt;
    &lt;name&gt;Jan&lt;/name&gt;
    &lt;surname&gt;Kowalski&lt;/surname&gt;
    &lt;email&gt;jan@example.com&lt;/email&gt;
    &lt;company&gt;TechCorp&lt;/company&gt;
    &lt;position&gt;PROGRAMISTA&lt;/position&gt;
    &lt;salary&gt;5000&lt;/salary&gt;
    &lt;status&gt;ACTIVE&lt;/status&gt;
  &lt;/employee&gt;
&lt;/employees&gt;</pre>
                        <p style="font-size: 0.875rem; color: #7f8c8d; margin-top: 1rem;">
                            <strong>Status:</strong> ACTIVE, ON_LEAVE, TERMINATED
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Employee Manager. Wszystkie prawa zastrzeżone.</p>
    </footer>
</body>
</html>